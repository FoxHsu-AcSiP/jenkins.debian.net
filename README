About jenkins.debian.net
========================
:Author:           Holger Levsen
:Authorinitials:   holger
:EMail:            holger@layer-acht.org
:Status:           in progress
:lang:             en
:Doctype:          article
:Licence:	   GPLv2

== About jenkins.debian.net

http://jenkins.debian.net is pretty much *work in progress*, (hopefully) doing something useful since October 15th 2012.

`git clone git://git.debian.org/git/users/holger/jenkins.debian.net.git`

Virtual hardware sponsored by http://www.profitbricks.com - currently it's just a server (a nice one, with 4 cores and 6 GB memory, thanks a lot!), but in future there will be installation tests on "real" (virtual) hardware and thus more VMs will started on demand as well.

Some stats are available using link:http://jenkins.debian.net/munin/jenkins-month.html[munin-plugins for jenkins].

=== Feedback

I love to get feedback on this! Please join #debian-qa on irc.debian.org to report bugs or give other feedback! Or send an email to debian-qa@lists.debian.org if you prefer mail.

=== Setup

See link:http://jenkins.debian.net/userContent/setup.html[INSTALL].

=== ToDo

There is still a lot of work left, check the current link:http://jenkins.debian.net/userContent/todo.html[ToDo list].

== Jobs being run

Remember, this is still pretty much work in progress. If you can think of ways to improve the usefulness of certain jobs, please do give feedback!

=== g-i-installation jobs

Installation tests with g-i, the graphical version of d-i, the debian-installer.

* g-i-installation_sid_daily_lxde
** sid installation of LXDE desktop with daily build sid image

* g-i-installation_wheezy_lxde
** wheezy installation of LXDE desktop with weekly build wheezy image

* Debian Edu installation tests of specific profiles and suites:
** g-i-installation_squeeze-test_debian_edu_standalone
** g-i-installation_wheezy_debian_edu_workstation

=== debian-installer jobs

* d_i_build_$source_package
** there is one job for each git repo referred to in http://anonscm.debian.org/viewvc/d-i/trunk/.mrconfig?view=co
** each job pdebuilds the master branch of its git repo on every git push in a sid environment. (If the architecture(s) specified in debian/control are not amd64,all or any the build exits cleanly.)
** while these jobs are triggered on commits, the SCM is only polled every 6min to see if there are new commits.

* d_i_manual
** builds the full installation-guide package with pdebuild in sid on every commit to svn://svn.debian.org/svn/d-i/ matching these patterns: '/trunk/manual/debian/.\*', '/trunk/manual/po/.\*', '/trunk/manual/doc/.\*' and '/trunk/manual/scripts/.\*'
** while this job is triggered on commits, the SCM is only polled every 15min to see if there are new commits.

* d_i_manual_$language_html
** builds a language (on wheezy) on every commit of svn/trunk/manual/$LANG with `make languages=$LANG architectures=amd64 formats=html`.
** while these jobs are triggered on commits, the SCM is only polled every 15min to see if there are new commits.
** on successful build, d_i_manual_$lang_pdf is triggered.

* d_i_parse_build_logs - parses logs from http://d-i.debian.org/daily-images/build-logs.html daily, to give them a bit more exposure.
** this job is run daily.

=== chroot-installation jobs

Installation tests inside chroot environments.

* chroot-installation_housekeeping:
** make sure chroots have been cleaned up properly
** runs at 05:00 UTC and triggers the bootstrap jobs on success

* $distro-bootstrap jobs:
** just `debootstrap $distro` (install a base Debian distribution $distro)
** there is one job for *sid* and one for *wheezy*: chroot-installation_sid_bootstrap and chroot-installation_wheezy_bootstrap
** plus there is chroot-installation_squeeze_bootstrap_upgrade_to_wheezy, which bootstraps *squeeze* and upgrades that to *wheezy*
** on successful run of the bootstrap job, six $distro-install(+upgrade) jobs are triggered.

* $distro-install jobs (and $distro-install+upgrade jobs):
** `debootstrap $distro`, install a *$set_of_packages* (and upgrade to *$2nd_distro*)
** these $set_of_packages exist: 'gnome', 'kde', 'lxde', 'xfc', 'full_desktop' (all four desktops plus vlc evince iceweasel chromium cups build-essential devscripts mplayer wine texlive-full asciidoc vim emacs) and 'develop'
*** install is done with `apt-get install`, except for 'develop' where `apt-get build-dep` is used to install the build dependencies of these packages.

=== webcheck jobs

* three jobs for running webcheck against www.debian.org, www.debian.org/News and www.debian.org/security
* several webcheck jobs for running again various debconf.org websites

These jobs are only run on the first day of each month.

== License

* See link:http://anonscm.debian.org/gitweb/?p=users/holger/jenkins.debian.net.git;a=blob;f=LICENSE[LICENSE].

